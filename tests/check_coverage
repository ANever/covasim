#!/bin/bash
# Note that although the script runs when parallelized, the coverage results are wrong.

echo 'Running tests...'
pytest -v test_*.py --cov-config=.coveragerc --cov=../covasim --workers auto --durations=20

echo 'Creating HTML report...'
coverage html

echo 'Report location:'
echo "`pwd`/htmlcov/index.html"